# STOKR Smart contracts

## Abstract


[STOKR] is as crowd-investing platform based on smart contracts on the
[Ethereum] blockchain.
On [STOKR] many projects will be deployed with the same smart contract
structure (see [project manager](#manager)).
There will be a shared [whitelist](#whitelist) for all projects on [STOKR].
Each project has its own ERC20 [Token](#token) and its
[Crowdsale](#crowdsale) contract instance.
The token contract is able to distribute profits generated by the projects
to the token holders.

[STOKR]: https://stokr.io
[Ethereum]: https://www.ethereum.org

## Development

**Dependencies**

* "chai": "^4.2.0",
* "chai-as-promised": "^7.1.1",
* "chai-bignumber": "^2.0.2",
* "eth-gas-reporter": "^0.1.12",
* "ganache-cli": "^6.2.5",
* "solhint": "^1.4.0",
* "solidity-coverage": "^0.5.11",
* "truffle": "^4.1.14",
* "truffle-flattener": "^1.2.10"

## Setting Up

* Clone this repository.

  * `git clone https://github.com/stokr-io/stokr-smart-contracts`

* Install all [system dependencies](#development).

  * `npm install`

* Compile contract code

  * `./node_modules/.bin/truffle compile`

## Running tests

  * You first have to start the Ganache client
    * `./node_modules/.bin/ganache-cli --gasLimit 8000000`

    * Then run `./node_modules/.bin/truffle test`

  * For test coverage run `./node_modules/.bin/solidity-coverage`

    * Note: The coverage tool will show several test as failed. This is because the
      tests rely on reading the return value of requires, which is not suported by the coverage tool.
      The coverage will still be calculated acurately.
